<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receipt Splitter</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🧾 Receipt Splitter</h1>
            <p>Split bills easily with friends!</p>
        </header>

        <!-- Host Section (Only you can add items) -->
        <div id="host-section" class="section" style="display: none;">
            <h2>Enter Receipt Items</h2>
            
            <div class="receipt-info">
                <div class="form-group">
                    <label for="receipt-name">Receipt Name:</label>
                    <input type="text" id="receipt-name" placeholder="e.g., Dinner at Mario's Restaurant">
                </div>
                
                <div class="tax-tip-row">
                    <div class="form-group">
                        <label for="tax-amount">Tax ($):</label>
                        <input type="number" id="tax-amount" step="0.01" placeholder="0.00">
                    </div>
                    
                    <div class="form-group">
                        <label for="tip-amount">Tip ($):</label>
                        <input type="number" id="tip-amount" step="0.01" placeholder="0.00">
                    </div>
                </div>
            </div>

            <h3>Add Items from Receipt</h3>
            <div class="add-item-form">
                <input type="text" id="item-name" placeholder="Item name (e.g., Caesar Salad)">
                <input type="number" id="item-price" step="0.01" placeholder="Price">
                <button onclick="addItem()">Add Item</button>
            </div>

            <div id="items-list" class="items-container">
                <div class="empty-state">No items added yet. Start entering items from your receipt.</div>
            </div>
            
            <div class="host-actions">
                <button onclick="newReceipt()" class="secondary-btn">🆕 New Receipt</button>
                <button onclick="generateShareLink()" class="primary-btn">Share with Friends</button>
                <button onclick="showSummary()" class="secondary-btn">View Payment Summary</button>
            </div>
            
            <div id="share-link" class="share-section" style="display: none;">
                <h3>📱 Share this link with your friends:</h3>
                <p>They'll be able to select the items they ordered</p>
                <div class="link-container">
                    <input type="text" id="share-url" readonly>
                    <button onclick="copyLink()">Copy Link</button>
                </div>
            </div>
        </div>

        <!-- Guest Section (Friends claim their items) -->
        <div id="guest-section" class="section" style="display: none;">
            <h2>Select Your Items</h2>
            <div id="receipt-title" class="receipt-title"></div>
            
            <div class="guest-intro">
                <div class="form-group">
                    <label for="guest-name">Your Name:</label>
                    <input type="text" id="guest-name" placeholder="Enter your name">
                    <button onclick="setGuestName()">Continue</button>
                </div>
                <p class="instruction">Enter your name, then select the items you ordered from the list below.</p>
            </div>
            
            <div id="guest-items-list" class="items-container"></div>
            <div id="guest-total" class="total-section"></div>
        </div>

        <!-- Summary Section -->
        <div id="summary-section" class="section" style="display: none;">
            <h2>💰 Payment Summary</h2>
            <div id="summary-content"></div>
            <div class="summary-actions">
                <button onclick="backToDashboard()" class="secondary-btn">← Back to Dashboard</button>
                <button onclick="backToHost()" class="secondary-btn">✏️ Edit Receipt</button>
                <button onclick="refreshSummary()" class="primary-btn">🔄 Refresh Summary</button>
            </div>
        </div>
    </div>

    <!-- Receipt Dashboard -->
<div id="receipt-dashboard" class="section" style="display: block;">
    <h2>My Receipts</h2>
    <div class="dashboard-actions">
        <button onclick="createNewReceipt()" class="primary-btn">+ Create New Receipt</button>
        <button onclick="refreshReceiptList()" class="secondary-btn">Refresh List</button>
    </div>
    
    <div id="receipts-list" class="receipts-container">
        <div class="empty-state">No receipts yet. Create your first receipt to get started!</div>
    </div>
</div>
    <script src="script.js"></script>
</body>
</html>
